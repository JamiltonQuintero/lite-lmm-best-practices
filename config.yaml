# LiteLLM Gateway Configuration
# Unified proxy for multiple LLM providers
# Documentation: https://docs.litellm.ai/

model_list:
  # =============================================================================
  # GOOGLE GEMINI (Primary for text generation)
  # =============================================================================
  - model_name: gemini-pro
    litellm_params:
      model: gemini/gemini-pro
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Google Gemini Pro - Fast, cost-effective"
      max_tokens: 8192

  - model_name: gemini-pro-vision
    litellm_params:
      model: gemini/gemini-pro-vision
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Google Gemini Pro Vision - Multimodal"
      max_tokens: 4096

  - model_name: gemini-1.5-flash
    litellm_params:
      model: gemini/gemini-1.5-flash
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Gemini 1.5 Flash - Fastest, cheapest"
      max_tokens: 8192

  - model_name: gemini-1.5-pro
    litellm_params:
      model: gemini/gemini-1.5-pro
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Gemini 1.5 Pro - Best quality"
      max_tokens: 8192

  # =============================================================================
  # OPENAI (Fallback / Premium)
  # =============================================================================
  - model_name: gpt-4o-mini
    litellm_params:
      model: gpt-4o-mini
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      description: "GPT-4o Mini - Fast and cheap"
      max_tokens: 4096

  - model_name: gpt-4o
    litellm_params:
      model: gpt-4o
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      description: "GPT-4o - High quality"
      max_tokens: 4096

  # =============================================================================
  # ANTHROPIC CLAUDE (Premium alternative)
  # =============================================================================
  - model_name: claude-3-haiku
    litellm_params:
      model: anthropic/claude-3-haiku-20240307
      api_key: os.environ/ANTHROPIC_API_KEY
    model_info:
      description: "Claude 3 Haiku - Fast and cheap"
      max_tokens: 4096

  - model_name: claude-3-sonnet
    litellm_params:
      model: anthropic/claude-3-sonnet-20240229
      api_key: os.environ/ANTHROPIC_API_KEY
    model_info:
      description: "Claude 3 Sonnet - Balanced"
      max_tokens: 4096

  # =============================================================================
  # MODEL ALIASES (for easy switching)
  # =============================================================================
  - model_name: default
    litellm_params:
      model: gemini/gemini-1.5-flash
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Default model - Gemini 1.5 Flash"

  - model_name: fast
    litellm_params:
      model: gemini/gemini-1.5-flash
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Fastest model for quick tasks"

  - model_name: quality
    litellm_params:
      model: gemini/gemini-1.5-pro
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      description: "Highest quality model"

# =============================================================================
# LITELLM SETTINGS
# =============================================================================
litellm_settings:
  # Enable caching (semantic cache with Redis)
  cache: true
  cache_params:
    type: redis
    host: os.environ/REDIS_HOST
    port: os.environ/REDIS_PORT
    password: os.environ/REDIS_PASSWORD

  # Request timeout
  request_timeout: 120

  # Retry settings
  num_retries: 3
  retry_after: 5

  # Enable detailed logging
  set_verbose: false

  # Drop unmapped params (avoid errors with provider-specific params)
  drop_params: true

# =============================================================================
# ROUTER SETTINGS (Load balancing & Fallbacks)
# =============================================================================
router_settings:
  # Routing strategy: simple-shuffle, least-busy, latency-based-routing
  routing_strategy: latency-based-routing

  # Number of retries before failing
  num_retries: 3

  # Timeout for each request
  timeout: 120

  # Fallback models when primary fails
  fallbacks:
    - gemini-pro: [gpt-4o-mini, claude-3-haiku]
    - gemini-1.5-flash: [gpt-4o-mini]
    - gpt-4o: [claude-3-sonnet, gemini-1.5-pro]

# =============================================================================
# GENERAL SETTINGS
# =============================================================================
general_settings:
  # Master key for admin operations
  master_key: os.environ/LITELLM_MASTER_KEY

  # Database for tracking (optional - for budget/usage tracking)
  # Uncomment the line below ONLY if DATABASE_URL is configured in .env
  database_url: os.environ/DATABASE_URL

  # Enable prometheus metrics
  enable_prometheus_metrics: true

  # CORS settings
  cors_allow_origins:
    - "*"
  store_model_in_db: true
  store_prompts_in_spend_logs: true

  # =============================================================================
  # END USER TRACKING CONFIGURATION
  # =============================================================================
  # Disable to enable end-user cost tracking (default: false)
  disable_end_user_cost_tracking: false

  # Disable spend logs (default: false) - keep false to track spend
  disable_spend_logs: false

  # Optional: enforce user parameter in all requests
  # When true, requests without 'user' param will be rejected
  # enforce_user_param: true
